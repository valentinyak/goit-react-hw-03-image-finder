(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__9Fj-h","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__2JHka"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__vwGqE",Modal:"Modal_Modal__2IXHk"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2wlQp"}},16:function(e,t,a){e.exports={Button:"Button_Button__3y9Ho"}},17:function(e,t,a){e.exports={App:"App_App__1JPYC"}},23:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__tR1Bt",SearchForm:"Searchbar_SearchForm__h41wu","SearchForm-button":"Searchbar_SearchForm-button__1ExYR","SearchForm-button-label":"Searchbar_SearchForm-button-label__1clQg","SearchForm-input":"Searchbar_SearchForm-input__20dsF"}},47:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(3),s=a.n(o),l=(a(23),a(13)),i=a(6),u=a(7),h=a(9),m=a(8),d=a(5),g=a(14),b=a.n(g),j=a(4),p=a.n(j),f=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={serchQuery:""},e.handleSearchQueryChange=function(t){e.setState({serchQuery:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.serchQuery.trim()?e.props.onSubmit(e.state.serchQuery):d.b.error("\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441")},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.handleSubmit,t=this.state,a=this.handleSearchQueryChange;return Object(r.jsx)("header",{className:p.a.Searchbar,children:Object(r.jsxs)("form",{className:p.a.SearchForm,onSubmit:e,children:[Object(r.jsx)("button",{type:"submit",className:p.a["SearchForm-button"],children:Object(r.jsx)("span",{className:p.a["SearchForm-button-label"],children:"Search"})}),Object(r.jsx)("input",{className:p.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:t.serchQuery,onChange:a})]})})}}]),a}(n.Component),y=a(11),v=a.n(y);function S(e){var t=e.images,a=e.onClick;return t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL;return Object(r.jsx)("li",{className:v.a.ImageGalleryItem,children:Object(r.jsx)("img",{src:n,alt:c,className:v.a["ImageGalleryItem-image"],onClick:a})},t)}))}var O=a(15),_=a.n(O);function I(e){var t=e.images,a=e.onClick;return Object(r.jsx)("ul",{className:_.a.ImageGallery,children:Object(r.jsx)(S,{images:t,onClick:a})})}var x=a(16),k=a.n(x);function C(e){var t=e.onClick;return Object(r.jsx)("button",{type:"button",className:k.a.Button,onClick:t,children:"Load more"})}var F=a(12),w=a.n(F);function G(e){var t=e.largeImg,a=e.onClick;return Object(r.jsx)("div",{className:w.a.Overlay,onClick:a,children:Object(r.jsx)("div",{className:w.a.Modal,children:Object(r.jsx)("img",{src:t,alt:""})})})}var Q={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("18971005-ed9d64a9f1a2bb3296a1c2dd7","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(e)))}))}},M=a(17),N=a.n(M),B=(a(45),a(46),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={serchQuery:"",currentPage:1,images:[],error:null,status:"idle",showModal:!1,openedImg:null,totalImages:0},e.handleFormSubmit=function(t){e.setState({serchQuery:t})},e.handleBtnClick=function(){e.setState({status:"pending"}),e.makeFetch(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.handleImgClick=function(t){var a=t.currentTarget.alt;e.setState((function(e){return{showModal:!e.showModal,openedImg:a}}))},e.handleOverleyClick=function(t){"IMG"!==t.target.nodeName&&e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,r=this.state,n=r.serchQuery,c=r.images,o=r.status;n!==t.serchQuery&&(this.setState({currentPage:1,images:[],status:"pending"}),setTimeout((function(){a.makeFetch()}))),0===c.length&&"resolved"===o&&(d.b.info("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),this.setState({status:"idle"}))}},{key:"makeFetch",value:function(){var e=this;Q.fetchImages(this.state.serchQuery,this.state.currentPage).then((function(t){e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(t.hits)),currentPage:e.currentPage+1,status:"resolved",totalImages:t.total}}))})).catch((function(t){return e.setState({error:t,status:"rejected"})}))}},{key:"render",value:function(){var e=this.handleFormSubmit,t=this.state,a=this.handleImgClick,n=this.handleBtnClick,c=this.handleOverleyClick,o=t.images,s=t.status,l=t.totalImages,i=t.error,u=t.showModal,h=t.openedImg;return Object(r.jsxs)("div",{className:N.a.App,children:[Object(r.jsx)(d.a,{autoClose:3e3}),Object(r.jsx)(f,{onSubmit:e}),Object(r.jsx)(I,{images:o,onClick:a}),"pending"===s&&Object(r.jsx)(b.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100}),o.length>0&&o.length<l&&Object(r.jsx)(C,{onClick:n}),"rejected"===s&&Object(r.jsx)("div",{children:i}),u&&Object(r.jsx)(G,{largeImg:h,onClick:c})]})}}]),a}(n.Component));s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(B,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.dfe49a35.chunk.js.map