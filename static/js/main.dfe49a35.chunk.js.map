{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/pixabay-api.js","App.js","index.js"],"names":["module","exports","Searchbar","state","serchQuery","handleSearchQueryChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","className","s","SearchForm","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","images","onClick","map","id","webformatURL","largeImageURL","src","alt","ImageGallery","Button","Modal","largeImg","Overlay","pixabayAPI","fetchImages","query","page","fetch","then","response","ok","json","Promise","reject","Error","App","currentPage","status","showModal","openedImg","totalImages","handleFormSubmit","handleBtnClick","makeFetch","window","scrollTo","top","document","documentElement","scrollHeight","behavior","handleImgClick","handleOverleyClick","target","nodeName","prevProps","prevState","setTimeout","length","info","parsedResponse","hits","total","catch","autoClose","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dfe49a35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__9Fj-h\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2JHka\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__vwGqE\",\"Modal\":\"Modal_Modal__2IXHk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2wlQp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3y9Ho\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1JPYC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__tR1Bt\",\"SearchForm\":\"Searchbar_SearchForm__h41wu\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1ExYR\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__1clQg\",\"SearchForm-input\":\"Searchbar_SearchForm-input__20dsF\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = { serchQuery: '' };\n\n  handleSearchQueryChange = e => {\n    this.setState({ serchQuery: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.serchQuery.trim() === '') {\n      toast.error('Вы не ввели поисковой запрос');\n      return;\n    }\n\n    this.props.onSubmit(this.state.serchQuery);\n  };\n\n  render() {\n    const { handleSubmit, state, handleSearchQueryChange } = this;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s['SearchForm-button']}>\n            <span className={s['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            className={s['SearchForm-input']}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={state.serchQuery}\n            onChange={handleSearchQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ images, onClick }) {\n  return images.map(({ id, webformatURL, largeImageURL }) => {\n    return (\n      <li className={s.ImageGalleryItem} key={id}>\n        <img\n          src={webformatURL}\n          alt={largeImageURL}\n          className={s['ImageGalleryItem-image']}\n          onClick={onClick}\n        />\n      </li>\n    );\n  });\n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      <ImageGalleryItem images={images} onClick={onClick} />\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nexport default function Modal({ largeImg, onClick }) {\n  return (\n    <div className={s.Overlay} onClick={onClick}>\n      <div className={s.Modal}>\n        <img src={largeImg} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  largeImg: PropTypes.string,\n  onClick: PropTypes.func,\n};\n","const KEY = '18971005-ed9d64a9f1a2bb3296a1c2dd7';\n\nfunction fetchImages(query, page) {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`Нет результатов по запросу ${query}`));\n  });\n}\n\nconst pixabayAPI = { fetchImages };\n\nexport default pixabayAPI;\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport pixabayAPI from './services/pixabay-api';\n\nimport s from './App.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class App extends Component {\n  state = {\n    serchQuery: '',\n    currentPage: 1,\n    images: [],\n    error: null,\n    status: 'idle',\n    showModal: false,\n    openedImg: null,\n    totalImages: 0,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { serchQuery, images, status } = this.state;\n\n    if (serchQuery !== prevState.serchQuery) {\n      this.setState({ currentPage: 1, images: [], status: 'pending' });\n      setTimeout(() => {\n        this.makeFetch();\n      });\n    }\n\n    if (images.length === 0 && status === 'resolved') {\n      toast.info('По вашему запросу ничего не найдено');\n      this.setState({ status: 'idle' });\n    }\n  }\n\n  handleFormSubmit = serchQuery => {\n    this.setState({ serchQuery });\n  };\n\n  handleBtnClick = () => {\n    this.setState({ status: 'pending' });\n    this.makeFetch();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  handleImgClick = e => {\n    const largeImg = e.currentTarget.alt;\n\n    this.setState(state => {\n      return { showModal: !state.showModal, openedImg: largeImg };\n    });\n  };\n\n  handleOverleyClick = e => {\n    if (e.target.nodeName === 'IMG') {\n      return;\n    }\n    this.setState(state => {\n      return { showModal: !state.showModal };\n    });\n  };\n\n  makeFetch() {\n    pixabayAPI\n      .fetchImages(this.state.serchQuery, this.state.currentPage)\n      .then(parsedResponse => {\n        this.setState(state => {\n          return {\n            images: [...state.images, ...parsedResponse.hits],\n            currentPage: state.currentPage + 1,\n            status: 'resolved',\n            totalImages: parsedResponse.total,\n          };\n        });\n      })\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  }\n\n  render() {\n    const {\n      handleFormSubmit,\n      state,\n      handleImgClick,\n      handleBtnClick,\n      handleOverleyClick,\n    } = this;\n    const { images, status, totalImages, error, showModal, openedImg } = state;\n\n    return (\n      <div className={s.App}>\n        <ToastContainer autoClose={3000} />\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ImageGallery images={images} onClick={handleImgClick} />\n\n        {status === 'pending' && (\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\n        )}\n\n        {images.length > 0 && images.length < totalImages && (\n          <Button onClick={handleBtnClick} />\n        )}\n\n        {status === 'rejected' && <div>{error}</div>}\n\n        {showModal && (\n          <Modal largeImg={openedImg} onClick={handleOverleyClick} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}